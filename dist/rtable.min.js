!function(a){"function"==typeof define&&define.amd?define(["react","pubsub-js"],a):"object"==typeof exports?module.exports=a(require("react"),require("pubsub-js")):this.RTable=a(React,PubSub)}(function(a,b){function c(a){var b=c.cache[a];if(!b){var d={};b=c.cache[a]={id:a,exports:d},c.modules[a].call(d,b,d)}return b.exports}return c.cache=[],c.modules=[function(a){var b={componentWillMount:function(){this.shouldUpdate=!0,this.oldProps=null},componentWillReceiveProps:function(a){var b=!0,c=null;this.props.optimization&&(c=JSON.stringify(a),b=this.oldProps!==c),this.shouldUpdate=b,this.oldProps=c},shouldComponentUpdate:function(){return this.shouldUpdate}};a.exports=b},function(a){var b=c(11),d=(c(10),c(2),c(7),c(6)),e=(c(9),b.createClass({displayName:"RTableBody",getDefaultProps:function(){return{dataProp:".",columnFieldValueProp:"field",selection:!0,data:[],definitions:[],optimization:!0}},propTypes:{dataProp:b.PropTypes.string,columnFieldValueProp:b.PropTypes.string,definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),data:b.PropTypes.arrayOf(b.PropTypes.object),selection:b.PropTypes.bool,optimization:b.PropTypes.bool},render:function(){for(var a=[],c=0;c<this.props.data.length;c++)a.push(b.createElement(d,{key:"RTableRow_"+c,rowCount:c,data:this.props.data[c],definitions:this.props.definitions,dataProp:this.props.dataProp,columnFieldValueProp:this.props.columnFieldValueProp,optimisation:this.props.optimisation}));return b.createElement("tbody",null,a)}}));a.exports=e},function(a){var b=c(11),d=c(9),e=c(0),f=b.createClass({mixins:[e],displayName:"RTableCell",getDefaultProps:function(){return{data:{},definition:{},columnFieldValueProp:"field",dataProp:".",optimization:!0}},propTypes:{dataProp:b.PropTypes.string,columnFieldValueProp:b.PropTypes.string,definition:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.object]),data:b.PropTypes.object,optimization:b.PropTypes.bool},render:function(){var a=null,c=null;return"object"==typeof this.props.definition?(this.props.columnFieldValueProp&&this.props.definition.hasOwnProperty(this.props.columnFieldValueProp)||d.warn("definition property was not found on definition object",this.props.definition,this.props.columnFieldValueProp),a=this.props.definition[this.props.columnFieldValueProp]):a=this.props.definition,"."!==this.props.dataProp?(this.props.data.hasOwnProperty(this.props.dataProp)||d.warn("could not find data propety on object",this.props.data,this.props.dataProp),c=this.props.data[this.props.dataProp]):c=this.props.data,b.createElement("td",{className:"rtable-col"},c[a])}});a.exports=f},function(a){var b=c(11),d=(c(10),c(4)),e=b.createClass({displayName:"RTableFilter",getDefaultProps:function(){return{definitions:[],selection:!0}},propTypes:{definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),selection:b.PropTypes.bool},render:function(){var a=[];this.props.selection&&a.push(b.createElement("th",{key:"filter_cell_selection",className:"rtable-selection rtable-selection-filter rtable-col"}));for(var c=0;c<this.props.definitions.length;c++)a.push(b.createElement("th",{key:"filter_cell_"+c,className:"rtable-col"},b.createElement(d,{definition:this.props.definitions[c]})));return b.createElement("tr",{className:"rtable-header-filters"},a)}});a.exports=e},function(a){var b=c(11),d=c(10),e=b.createClass({displayName:"RTableFilterCell",getInitialState:function(){return{filter:null}},getDefaultProps:function(){return{definition:{}}},propTypes:{definition:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.object])},handleChange:function(a){d.publish("RTable.FilterChange",{definition:this.props.definition,value:a.target.value}),this.setState({definition:a.target.value})},componentWillUnmount:function(){d.unsubscribe("RTable.FilterChange")},render:function(){return b.createElement("input",{type:"text",value:this.state.filter,onChange:this.handleChange})}});a.exports=e},function(a){var b=c(11),d=c(9),e=b.createClass({displayName:"RTableHeader",getDefaultProps:function(){return{definitions:[],columnNameProp:"name",selection:!0}},propTypes:{definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),columnNameProp:b.PropTypes.string,selection:b.PropTypes.bool},render:function(){var a=[];this.props.selection&&a.push(b.createElement("th",{key:"header_cell_selection",className:"rtable-selection rtable-selection-header rtable-col"}));for(var c=0;c<this.props.definitions.length;c++){var e=null;"object"==typeof this.props.definitions[c]?(this.props.columnNameProp&&this.props.definitions[c].hasOwnProperty(this.props.columnNameProp)||d.warn("Header Name property was not found on definition object",this.props.definition,this.props.columnNameProp),e=this.props.definitions[c][this.props.columnNameProp]):e=this.props.definitions[c],a.push(b.createElement("th",{key:"header_cell_"+c,className:"rtable-col rtable-header-col"},e))}return b.createElement("tr",null,a)}});a.exports=e},function(a){var b=c(11),d=(c(10),c(2)),e=c(7),f=c(0),g=b.createClass({mixins:[f],displayName:"RTableRow",getDefaultProps:function(){return{dataProp:".",columnFieldValueProp:"field",selection:!0,data:{},definitions:[],optimization:!0}},propTypes:{dataProp:b.PropTypes.string,columnFieldValueProp:b.PropTypes.string,definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),data:b.PropTypes.object,selection:b.PropTypes.bool,optimization:b.PropTypes.bool,rowCount:b.PropTypes.number},render:function(){var a=[];this.props.selection&&a.push(b.createElement(e,{key:"row_"+this.props.rowCount+"_selection",data:this.props.data}));for(var c=0;c<this.props.definitions.length;c++)a.push(b.createElement(d,{key:"row_"+this.props.rowCount+"_cell_"+c,data:this.props.data,definition:this.props.definitions[c],dataProp:this.props.dataProp,columnFieldValueProp:this.props.columnFieldValueProp,optimisation:this.props.optimisation}));return b.createElement("tr",null,a)}});a.exports=g},function(a){var b=c(11),d=c(10),e=b.createClass({displayName:"RTableSelect",getInitialState:function(){return{isChecked:!1}},getDefaultProps:function(){return{data:{}}},propTypes:{data:b.PropTypes.object},onChange:function(){var a=!this.state.isChecked;d.publish("RTable.RowChecked",{data:this.props.data,value:a}),this.setState({isChecked:a})},render:function(){return b.createElement("td",{className:"rtable-col rtable-selection rtable-selection-row"},b.createElement("input",{type:"checkbox",checked:this.state.isChecked,onChange:this.onChange}))},componentWillUnmount:function(){d.unsubscribe("RTable.RowSelected")}});a.exports=e},function(a){var b=c(11),d=c(10),e=c(1),f=c(5),g=c(3),h=b.createClass({displayName:"RTable",getDefaultProps:function(){return{data:[],definitions:[],dataProp:".",columnFieldValueProp:"field",columnNameProp:"name",enableFilters:!0,enableSelection:!0,classes:"rtable",optimization:!0,fixedHeader:!1}},tableScroll:function(){this.refs.rHeader.getDOMNode().style.width=this.refs.rTable.getDOMNode().clientWidth+this.refs.rTable.getDOMNode().scrollLeft+"px",this.refs.rBody.getDOMNode().style.width=this.refs.rTable.getDOMNode().clientWidth+this.refs.rTable.getDOMNode().scrollLeft+"px"},componentDidMount:function(){d.publish("RTable.Mounted",null),this.props.fixedHeader&&this.refs.rTable.getDOMNode().addEventListener("scroll",this.tableScroll)},componentDidUpdate:function(){d.publish("RTable.Updated",null)},componentWillUnmount:function(){d.publish("RTable.Unmounted",null),d.unsubscribe("RTable.Mounted"),this.refs.rTable.getDOMNode().removeEventListener("scroll",this.tableScroll)},propTypes:{definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),data:b.PropTypes.arrayOf(b.PropTypes.object),dataProp:b.PropTypes.string,columnFieldValueProp:b.PropTypes.string,columnNameProp:b.PropTypes.string,enableFilters:b.PropTypes.bool,enableSelection:b.PropTypes.bool,classes:b.PropTypes.string,optimization:b.PropTypes.bool,fixedHeader:b.PropTypes.bool},render:function(){var a=[];this.props.data&&this.props.data.length&&(a.push(b.createElement(f,{key:"RTableHeader",definitions:this.props.definitions,columnNameProp:this.props.columnNameProp,selection:this.props.enableSelection})),this.props.enableFilters&&a.push(b.createElement(g,{key:"RTableFilter",definitions:this.props.definitions,selection:this.props.enableSelection})));var c=b.createElement("thead",{ref:"rHeader"},a),d="rtable "+this.props.classes;return this.props.fixedHeader&&(d+=" rtable-fixed-header"),b.createElement("table",{className:d,ref:"rTable"},c,b.createElement(e,b.__spread({ref:"rBody"},this.props,{selection:this.props.enableSelection,data:this.props.data,definitions:this.props.definitions})))}});a.exports=h},function(a){var b={};b.stringify=function(a){return JSON.stringify(a)},b.cloneProps=function(a){return JSON.parse(JSON.stringify(a))},b.equalProps=function(a,b){return JSON.stringify(a)===JSON.stringify(b)},b.warn=function(){console&&console.warn(arguments)},a.exports=b},function(a){a.exports=b},function(b){b.exports=a}],c(8)});
//# sourceMappingURL=rtable.min.js.map