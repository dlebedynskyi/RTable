!function(a){"function"==typeof define&&define.amd?define(["react","pubsub-js"],a):"object"==typeof exports?module.exports=a(require("react"),require("pubsub-js")):this.RTable=a(React,PubSub)}(function(a,b){function c(a){var b=c.cache[a];if(!b){var d={};b=c.cache[a]={id:a,exports:d},c.modules[a].call(d,b,d)}return b.exports}return c.cache=[],c.modules=[function(a){function b(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var d=c(8),e=(c(7),c(1));RTableSelect=c(5);var f=d.createClass({displayName:"RTableBody",getDefaultProps:function(){return{dataProp:".",columnFieldValueProp:"field",selection:!0,data:[],definitions:[]}},getInitialState:function(){return{shouldUpdate:!0,oldProps:this.prpps}},propTypes:{dataProp:d.PropTypes.string,columnFieldValueProp:d.PropTypes.string,definitions:d.PropTypes.oneOfType([d.PropTypes.arrayOf(d.PropTypes.string),d.PropTypes.arrayOf(d.PropTypes.object)]),data:d.PropTypes.arrayOf(d.PropTypes.object),selection:d.PropTypes.bool},componentWillReceiveProps:function(a){var c=!this.state.oldProps;c||(c=this.state.oldProps.data!==a.data&&this.state.oldProps.definitions!==a.definitions&&this.state.oldProps.dataProp!==a.dataProp&&this.state.oldProps.columnFieldValueProp!==a.columnFieldValueProp&&this.state.oldProps.selection!==a.selection),this.setState({shouldUpdate:c,oldProps:b(a)})},shouldComponentUpdate:function(){return this.state.shouldUpdate},render:function(){for(var a=[],b=0;b<this.props.data.length;b++){var c=[];this.props.selection&&c.push(d.createElement(RTableSelect,{key:"row_"+b+"_selection",data:this.props.data[b]}));for(var f=0;f<this.props.definitions.length;f++)c.push(d.createElement(e,{key:"row_"+b+"_cell_"+f,data:this.props.data[b],definition:this.props.definitions[f],dataProp:this.props.dataProp,columnFieldValueProp:this.props.columnFieldValueProp}));a.push(d.createElement("tr",{key:"row_"+b},c))}return d.createElement("tbody",null,a)}});a.exports=f},function(a){function b(){console&&console.warn(arguments)}var d=c(8),e=d.createClass({displayName:"RTableCell",getDefaultProps:function(){return{data:{},definition:{},columnFieldValueProp:"field",dataProp:"."}},propTypes:{dataProp:d.PropTypes.string,columnFieldValueProp:d.PropTypes.string,definition:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.object]),data:d.PropTypes.object},shouldComponentUpdate:function(a){return this.props.data!==a.data&&this.props.definition!==a.definition},render:function(){var a=null,c=null;return"object"==typeof this.props.definition?(this.props.columnFieldValueProp&&this.props.definition.hasOwnProperty(this.props.columnFieldValueProp)||b("definition property was not found on definition object",this.props.definition,this.props.columnFieldValueProp),a=this.props.definition[this.props.columnFieldValueProp]):a=this.props.definition,"."!==this.props.dataProp?(this.props.data.hasOwnProperty(this.props.dataProp)||b("could not find data propety on object",this.props.data,this.props.dataProp),c=this.props.data[this.props.dataProp]):c=this.props.data,d.createElement("td",null,c[a])}});a.exports=e},function(a){var b=c(8),d=(c(7),c(3)),e=b.createClass({displayName:"RTableFilter",getDefaultProps:function(){return{definitions:[],selection:!0}},propTypes:{definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),selection:b.PropTypes.bool},render:function(){var a=[];this.props.selection&&a.push(b.createElement("th",{key:"filter_cell_selection",className:"rtable-selection-filter"}));for(var c=0;c<this.props.definitions.length;c++)a.push(b.createElement("th",{key:"filter_cell_"+c},b.createElement(d,{definition:this.props.definitions[c]})));return b.createElement("tr",null,a)}});a.exports=e},function(a){var b=c(8),d=c(7),e=b.createClass({displayName:"RTableFilterCell",getInitialState:function(){return{filter:null}},getDefaultProps:function(){return{definition:{}}},propTypes:{definition:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.object])},handleChange:function(a){d.publish("RTable.FilterChange",{definition:this.props.definition,value:a.target.value}),this.setState({definition:a.target.value})},componentWillUnmount:function(){d.unsubscribe("RTable.FilterChange")},render:function(){return b.createElement("input",{type:"text",value:this.state.filter,onChange:this.handleChange})}});a.exports=e},function(a){function b(){console&&console.warn(arguments)}var d=c(8),e=(c(7),d.createClass({displayName:"RTableHeader",getDefaultProps:function(){return{definitions:[],columnNameProp:"name",selection:!0}},propTypes:{definitions:d.PropTypes.oneOfType([d.PropTypes.arrayOf(d.PropTypes.string),d.PropTypes.arrayOf(d.PropTypes.object)]),columnNameProp:d.PropTypes.string,selection:d.PropTypes.bool},render:function(){var a=[];this.props.selection&&a.push(d.createElement("th",{key:"header_cell_selection",className:"rtable-selection-header"}));for(var c=0;c<this.props.definitions.length;c++){var e=null;"object"==typeof this.props.definitions[c]?(this.props.columnNameProp&&this.props.definitions[c].hasOwnProperty(this.props.columnNameProp)||b("Header Name property was not found on definition object",this.props.definition,this.props.columnNameProp),e=this.props.definitions[c][this.props.columnNameProp]):e=this.props.definitions[c],a.push(d.createElement("th",{key:"header_cell_"+c},e))}return d.createElement("tr",null,a)}}));a.exports=e},function(a){var b=c(8),d=c(7),e=b.createClass({displayName:"RTableSelect",getInitialState:function(){return{isChecked:!1}},getDefaultProps:function(){return{data:{}}},propTypes:{data:b.PropTypes.object},onChange:function(){var a=!this.state.isChecked;d.publish("RTable.RowChecked",{data:this.props.data,value:a}),this.setState({isChecked:a})},render:function(){return b.createElement("td",{className:"rtable-selection-row"},b.createElement("input",{type:"checkbox",checked:this.state.isChecked,onChange:this.onChange}))},componentWillUnmount:function(){d.unsubscribe("RTable.RowSelected")}});a.exports=e},function(a){var b=c(8),d=c(7),e=c(0),f=c(4),g=c(2),h=b.createClass({displayName:"RTable",getDefaultProps:function(){return{data:[],definitions:[],dataProp:".",columnFieldValueProp:"field",columnNameProp:"name",enableFilters:!0,enableSelection:!0,className:""}},componentDidMount:function(){d.publish("RTable.Mounted",null)},componentWillUnmount:function(){d.unsubscribe("RTable.Mounted")},propTypes:{definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),data:b.PropTypes.arrayOf(b.PropTypes.object),dataProp:b.PropTypes.string,columnFieldValueProp:b.PropTypes.string,columnNameProp:b.PropTypes.string,enableFilters:b.PropTypes.bool,enableSelection:b.PropTypes.bool,className:b.PropTypes.string},render:function(){var a=[];return this.props.data&&this.props.data.length&&(a.push(b.createElement(f,{key:"RTableHeader",definitions:this.props.definitions,columnNameProp:this.props.columnNameProp,selection:this.props.enableSelection})),this.props.enableFilters&&a.push(b.createElement(g,{key:"RTableFilter",definitions:this.props.definitions,selection:this.props.enableSelection}))),b.createElement("table",{className:"rx-table "+this.props.classes},b.createElement("thead",null,a),b.createElement(e,b.__spread({},this.props,{selection:this.props.enableSelection,data:this.props.data,definitions:this.props.definitions})))}});a.exports=h},function(a){a.exports=b},function(b){b.exports=a}],c(6)});
//# sourceMappingURL=rtable.min.js.map