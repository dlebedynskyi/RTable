!function(a){"function"==typeof define&&define.amd?define(["react","pubsub-js"],a):"object"==typeof exports?module.exports=a(require("react"),require("pubsub-js")):this.RTable=a(React,PubSub)}(function(a,b){function c(a){var b=c.cache[a];if(!b){var d={};b=c.cache[a]={id:a,exports:d},c.modules[a].call(d,b,d)}return b.exports}return c.cache=[],c.modules=[function(a){var b=c(9),d=(c(8),c(1));RTableSelect=c(5),utils=c(7);var e=b.createClass({displayName:"RTableBody",getInitialState:function(){return{shouldUpdate:!0,oldProps:{}}},getDefaultProps:function(){return{dataProp:".",columnFieldValueProp:"field",selection:!0,data:[],definitions:[]}},propTypes:{dataProp:b.PropTypes.string,columnFieldValueProp:b.PropTypes.string,definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),data:b.PropTypes.arrayOf(b.PropTypes.object),selection:b.PropTypes.bool},componentWillReceiveProps:function(a){var b=utils.stringify(a),c=this.state.oldProps!==b;this.setState({shouldUpdate:c,oldProps:b})},shouldComponentUpdate:function(){return this.state.shouldUpdate},render:function(){for(var a=[],c=0;c<this.props.data.length;c++){var e=[];this.props.selection&&e.push(b.createElement(RTableSelect,{key:"row_"+c+"_selection",data:this.props.data[c]}));for(var f=0;f<this.props.definitions.length;f++)e.push(b.createElement(d,{key:"row_"+c+"_cell_"+f,data:this.props.data[c],definition:this.props.definitions[f],dataProp:this.props.dataProp,columnFieldValueProp:this.props.columnFieldValueProp}));a.push(b.createElement("tr",{key:"row_"+c},e))}return b.createElement("tbody",null,a)}});a.exports=e},function(a){var b=c(9),d=c(7),e=b.createClass({displayName:"RTableCell",getDefaultProps:function(){return{data:{},definition:{},columnFieldValueProp:"field",dataProp:"."}},propTypes:{dataProp:b.PropTypes.string,columnFieldValueProp:b.PropTypes.string,definition:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.object]),data:b.PropTypes.object},render:function(){var a=null,c=null;return"object"==typeof this.props.definition?(this.props.columnFieldValueProp&&this.props.definition.hasOwnProperty(this.props.columnFieldValueProp)||d.warn("definition property was not found on definition object",this.props.definition,this.props.columnFieldValueProp),a=this.props.definition[this.props.columnFieldValueProp]):a=this.props.definition,"."!==this.props.dataProp?(this.props.data.hasOwnProperty(this.props.dataProp)||d.warn("could not find data propety on object",this.props.data,this.props.dataProp),c=this.props.data[this.props.dataProp]):c=this.props.data,b.createElement("td",null,c[a])}});a.exports=e},function(a){var b=c(9),d=(c(8),c(3)),e=b.createClass({displayName:"RTableFilter",getDefaultProps:function(){return{definitions:[],selection:!0}},propTypes:{definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),selection:b.PropTypes.bool},render:function(){var a=[];this.props.selection&&a.push(b.createElement("th",{key:"filter_cell_selection",className:"rtable-selection-filter"}));for(var c=0;c<this.props.definitions.length;c++)a.push(b.createElement("th",{key:"filter_cell_"+c},b.createElement(d,{definition:this.props.definitions[c]})));return b.createElement("tr",null,a)}});a.exports=e},function(a){var b=c(9),d=c(8),e=b.createClass({displayName:"RTableFilterCell",getInitialState:function(){return{filter:null}},getDefaultProps:function(){return{definition:{}}},propTypes:{definition:b.PropTypes.oneOfType([b.PropTypes.string,b.PropTypes.object])},handleChange:function(a){d.publish("RTable.FilterChange",{definition:this.props.definition,value:a.target.value}),this.setState({definition:a.target.value})},componentWillUnmount:function(){d.unsubscribe("RTable.FilterChange")},render:function(){return b.createElement("input",{type:"text",value:this.state.filter,onChange:this.handleChange})}});a.exports=e},function(a){var b=c(9),d=c(7),e=b.createClass({displayName:"RTableHeader",getDefaultProps:function(){return{definitions:[],columnNameProp:"name",selection:!0}},propTypes:{definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),columnNameProp:b.PropTypes.string,selection:b.PropTypes.bool},render:function(){var a=[];this.props.selection&&a.push(b.createElement("th",{key:"header_cell_selection",className:"rtable-selection-header"}));for(var c=0;c<this.props.definitions.length;c++){var e=null;"object"==typeof this.props.definitions[c]?(this.props.columnNameProp&&this.props.definitions[c].hasOwnProperty(this.props.columnNameProp)||d.warn("Header Name property was not found on definition object",this.props.definition,this.props.columnNameProp),e=this.props.definitions[c][this.props.columnNameProp]):e=this.props.definitions[c],a.push(b.createElement("th",{key:"header_cell_"+c},e))}return b.createElement("tr",null,a)}});a.exports=e},function(a){var b=c(9),d=c(8),e=b.createClass({displayName:"RTableSelect",getInitialState:function(){return{isChecked:!1}},getDefaultProps:function(){return{data:{}}},propTypes:{data:b.PropTypes.object},onChange:function(){var a=!this.state.isChecked;d.publish("RTable.RowChecked",{data:this.props.data,value:a}),this.setState({isChecked:a})},render:function(){return b.createElement("td",{className:"rtable-selection-row"},b.createElement("input",{type:"checkbox",checked:this.state.isChecked,onChange:this.onChange}))},componentWillUnmount:function(){d.unsubscribe("RTable.RowSelected")}});a.exports=e},function(a){var b=c(9),d=c(8),e=c(0),f=c(4),g=c(2),h=b.createClass({displayName:"RTable",getDefaultProps:function(){return{data:[],definitions:[],dataProp:".",columnFieldValueProp:"field",columnNameProp:"name",enableFilters:!0,enableSelection:!0,className:""}},componentDidMount:function(){d.publish("RTable.Mounted",null)},componentWillUnmount:function(){d.unsubscribe("RTable.Mounted")},propTypes:{definitions:b.PropTypes.oneOfType([b.PropTypes.arrayOf(b.PropTypes.string),b.PropTypes.arrayOf(b.PropTypes.object)]),data:b.PropTypes.arrayOf(b.PropTypes.object),dataProp:b.PropTypes.string,columnFieldValueProp:b.PropTypes.string,columnNameProp:b.PropTypes.string,enableFilters:b.PropTypes.bool,enableSelection:b.PropTypes.bool,className:b.PropTypes.string},render:function(){var a=[];return this.props.data&&this.props.data.length&&(a.push(b.createElement(f,{key:"RTableHeader",definitions:this.props.definitions,columnNameProp:this.props.columnNameProp,selection:this.props.enableSelection})),this.props.enableFilters&&a.push(b.createElement(g,{key:"RTableFilter",definitions:this.props.definitions,selection:this.props.enableSelection}))),b.createElement("table",{className:"rx-table "+this.props.classes},b.createElement("thead",null,a),b.createElement(e,b.__spread({},this.props,{selection:this.props.enableSelection,data:this.props.data,definitions:this.props.definitions})))}});a.exports=h},function(a){var b={};b.stringify=function(a){return JSON.stringify(a)},b.cloneProps=function(a){return JSON.parse(JSON.stringify(a))},b.equalProps=function(a,b){return JSON.stringify(a)===JSON.stringify(b)},b.warn=function(){console&&console.warn(arguments)},a.exports=b},function(a){a.exports=b},function(b){b.exports=a}],c(6)});
//# sourceMappingURL=rtable.min.js.map